PWM:
使用中央对其模式2，先向上计数再向下技术，向上计数进入比较中断。
使用PWM模式2,向上计数 CNT>CCR为有效电平，有效电平为低。
使能通道4的比较中断，通道4的CCR为通道1 2 3中CCR最大值+1us。1us是为了让AD采样更稳定

编码器：
采用ABZ正交增量编码器
每次上电需要做电气角度校准
利用Z轴每圈做一次清零

电流采样：
电流采样使用单次采样，DMA+中断
在定时器1通道4中断中触发ADC采样


控制流程：
定时器1通道4触发比较中断，此时所有桥臂的下MOS管打开，进行一次ADC采样.
ADC采样完成触发DMA中断,在DMA中完成FOC控制

FOC控制流程：（FOC.c）
1.获取BC两相电流，求出A相电流
2.获取当前电气角度。
3.通过Clarke变换和Park变换求出实际电流 IQ和ID
4.通过与目标IQ ID对比和PID计算,得出要输出的UQ UD
5.将UQ UD做Park反变化得出Uα和Uβ
6.将U阿尔法和Uβ送入SVPWM生成模块。

SVPWM控制流程：（Svpwm.c.c）
1.获取Uα和Uβ
2.通过U阿尔法和Uβ计算当前所在扇区
4.使用7段式PWM计算每个矢量的作用时常
5.通过矢量作用时长计算出定时器的高电平时间
6.通过定时器每个高电平时间计算出每个通道的CCR值
7.挑选出CCR最大值送给通道4，准备下一次定时器中断

定时器比较中断：
打开ADC进行一次AD采样

DMA中断：
读取AD数据进行FOC控制

编码器Z轴中断：
校准角度值
